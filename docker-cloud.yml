monitor-owl-intuition:
  #build: monitors/owl-intuition
  image: 'automateeverything/monitor-owl-intuition:latest'
  links:
    - redis
  ports:
    - "22600:22600/udp"
  tags:
    - homelab
  autoredeploy: true

monitor-philips-hue:
  #build: monitors/philips-hue
  image: automateeverything/monitor-philips-hue
  links:
   - redis
   - mysql
  tags:
    - homelab
  autoredeploy: true

monitor-redis:
  #build: monitors/redis
  image: automateeverything/monitor-redis
  links:
   - redis
  tags:
    - homelab
  autoredeploy: true

applications-power-alert:
  #build: applications/power-alert
  image: automateeverything/applications-power-alert
  links:
    - redis
  tags:
    - homelab
  autoredeploy: true

applications-capture-data:
  #build: applications/capture-data
  image: automateeverything/applications-capture-data
  links:
    - redis
    - mysql
  tags:
    - homelab
  autoredeploy: true

mysql:
  image: 'mysql:latest'
  environment:
    - MYSQL_DATABASE=automate
    - MYSQL_PASSWORD=Gx3Ocw7Jhl9GVNd
    - MYSQL_ROOT_PASSWORD=cN6Dox5UEXZ0VEo
    - MYSQL_USER=automate
  ports:
    - '3306'
  restart: always
  tags:
    - homelab

phpmyadmin:
  image: 'corbinu/docker-phpmyadmin:latest'
  environment:
    - VIRTUAL_HOST=mysql.automateeverything.thru.io
  links:
    - mysql
  ports:
    - '80'
  restart: always
  tags:
    - homelab

redis:
  image: 'redis:latest'
  tags:
    - homelab
  ports:
    - '1759:6379'

webapp:
  image: automateeverything/webapp
  links:
    - redis
    - mysql
  environment:
    - VIRTUAL_HOST=automateeverything.thru.io
    - REALTIME_URL=realtime.automateeverything.thru.io
  ports:
    - '80'
  restart: always
  tags:
    - homelab

webapp-realtime:
  image: automateeverything/webapp-realtime
  links:
    - redis
    - mysql
  environment:
    - VIRTUAL_HOST=realtime.automateeverything.thru.io
  ports:
    - '5000'
  restart: always
  tags:
    - homelab